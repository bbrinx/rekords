<script src="//maps.google.com/maps/api/js?key=AIzaSyDNBOpxo7AavQMsZzs4YmA9KiVkzgQgIII"></script>
<script src="//cdn.rawgit.com/mahnunchik/markerclustererplus/master/dist/markerclusterer.min.js"></script>
<script src='//cdn.rawgit.com/printercu/google-maps-utility-library-v3-read-only/master/infobox/src/infobox_packed.js' type='text/javascript'></script> <!-- only if you need custom infoboxes -->


<p id="notice"><%= notice %></p>
<div class="full">
  <div class="col">
    <!-- <%= image_tag("categories.png")%> -->
    <div id="super">
      <p>Deine letzten Rekorde</p>
    </div>
  </div>
</div>


<div class="centering" id="tableBg">

  <div class="row">
    <section class="search-results row">
      <table class="table table-responsive-lg table-bordered table-hover mt- col-1">
        <thead class="thead-dark">
          <tr>
            <th>Name</th>
            <th>Description</th>
            <th>Category</th>
            <th>Date</th>
          </tr>
        </thead>

        <tbody>
          <% @records.each do |record| %>
            <tr>
              <td><%= link_to record.name, record %></td>
              <td><%= record.description %></td>
              <td><%= record.category.name %></td>
              <td><%= record.date %></td>
            </tr>
          <% end %>
        </tbody>
      </table>
    </section>
  </div>
  <div style='width: 700px; margin: 0 auto'>
    <div id="map" style='width: 700px; height: 400px;'></div>
  </div>
</div>



<!-- <%= link_to 'Back to Home', homes_path %> -->




<script type="text/javascript">function initMap() {

  var myLatlng = {lat: 52.504818, lng: 13.335082};

  var map = new google.maps.Map(document.getElementById('map'), {
    zoom: 4,
    center: myLatlng
  });

  var marker = new google.maps.Marker({
    position: myLatlng,
    map: map,
    title: 'Click to zoom'
  });

  map.addListener('center_changed', function() {
    // 3 seconds after the center of the map has changed, pan back to the
    // marker.
    window.setTimeout(function() {
      map.panTo(marker.getPosition());
    }, 3000);
  });

  marker.addListener('click', function() {
    map.setZoom(8);
    map.setCenter(marker.getPosition());
  });
}

initMap();

</script>
